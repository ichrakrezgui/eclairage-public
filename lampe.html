<!DOCTYPE html>
<html>

<head>
  <title>Ajouter des lampadaires</title>
</head>

<body>
  <script language="JavaScript">


    //La fonction JavaScript qui vérifie si les champs obligatoirs du formulaire ont été bien remplis
//     function envoie(formulaire) {
//       if ((document.getElementById('nom').value.length > 0)
//         && (document.getElementById('prenom').value.length > 0)
//         && (document.getElementById('localite').value.length > 0)
//         && (document.getElementById('email').value.length > 0)
//         && (document.getElementById('numtel').value.length > 0)

//       ) {
//         formulaire.submit();
// // cspkILqVKVw3gUUuTKFN
//         var Lampadaire = firebase.database().ref("lampadaire");
//         Lampadaire.orderByKey().endAt("pterodactyl")(function (snapshot) {
//           console.log(snapshot.key);
//         });
//       } else
//         alert('IMPOSSIBLE D\' ENVOER LE FORMULAIRE, VOUS AVEZ OUBLIEZ DE REMPLIRE DES CHAMPS OBLIGATOIRS');
//     }
  </script>
  <style type="text/css">
    <!-- body {
      padding: 0;
      margin: 30px;
    }

    header {
      z-index: 100px;
      font-size: 30px;
    }

    .Style4 {
      font-size: 16px;
      font-weight: bold;
    }

    .Style10 {
      font-size: 18px;
      font-weight: bold;
    }

    .Style11 {
      font-size: 36px;
      font-weight: bold;
    }
  </style>
  </head>

  <body bgcolor="#FFFFFF">
    <header>
      <h1>Eclairage public</h1>
    </header>
    <hr>
    <div align="center">
      <p align="center" class="Style11">Ajouter des lampadaires </p>
      <p align="left" class="Style10">
        <font color="#FF0000">Les cases marquées d'une * sont obligatoires </font>
      </p>
      <form action="envoi.php" method="post" name="form_contacts" id="form_contacts">

        <p align="left" class="Style4">*Attitude :
          <input type="text" name="att" id="att">
        </p>
        <p align="left" class="Style4">*Longitude :
          <input type="text" name="long" id="long">
        </p>
        <p align="left" class="Style4">*Gouvernorat :
          <select name="Localité" id="localite">
            <option></option>
            <option>Ariana</option>
            <option>Béja</option>
            <option>Ben Arous</option>
            <option>Bizerte</option>
            <option>Gabes</option>
            <option>Gafsa</option>
            <option>Jendouba</option>
            <option>Kairouan</option>
            <option>Kasserine</option>
            <option>Kébili</option>
            <option>Le Kef</option>
            <option>La Manouba</option>
            <option>Mahdia</option>
            <option>Médnine</option>
            <OPTION>Monastir</OPTION>
            <option>Nabeul</option>
            <option>Sfax</option>
            <option>Sidi Bouzid</option>
            <option>Siliana</option>
            <option>Sousse</option>
            <option>Tataouine</option>
            <option>Tozeur</option>
            <option>Tunis</option>
            <option>Zaghouan</option>
          </select>
        </p>

        <p align="left">
          <input name="envoyer" type="button" id="envoyer" value="Envoyer" onClick="envoie(this.form)">
          <input name="retablir" type="reset" id="retablir" value="Rétablir">
        </p>
      </form>
      <p> </p>
      <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase.js"></script>
      <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase-firestore.js"></script>
      <script src="./firebase/lib.js"></script>
      <script>
        // Initialize Firebase
        var config = {
          apiKey: "AIzaSyAwIPUzpWgX35efmBUFulRSsO22RfhtlmE",
          authDomain: "eclairage-public.firebaseapp.com",
          databaseURL: "https://eclairage-public.firebaseio.com",
          projectId: "eclairage-public",
          storageBucket: "eclairage-public.appspot.com",
          messagingSenderId: "419441725438"
        };
        firebase.initializeApp(config);
      </script>
      <script src="iot.js"></script>
      <script>
        function fetchLamps() {
          const db = firebase.firestore();

          db.collection("lampadaire").get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
              console.log(`${doc.id} => ${doc.data()}`);
            });
          });
        }

        fetchLamps()
      </script>
  </body>

</html>